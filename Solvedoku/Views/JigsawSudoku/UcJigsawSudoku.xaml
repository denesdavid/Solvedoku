<UserControl x:Class="Solvedoku.Views.JigsawSudoku.UcJigsawSudoku"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:wpfx="http://schemas.xceed.com/wpf/xaml/toolkit"
             xmlns:JigsawSudokuViewModels="clr-namespace:Solvedoku.ViewModels.JigsawSudoku"
             xmlns:Converters="clr-namespace:Solvedoku.Converters"
              xmlns:BusyContent="clr-namespace:Solvedoku.Views.BusyIndicatorContent"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <UserControl.DataContext>
        <JigsawSudokuViewModels:JigsawSudokuViewModel/>
    </UserControl.DataContext>
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="../BusyIndicatorContent/BusyIndicatorResourceDictionary.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <Converters:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
        </ResourceDictionary>
    </UserControl.Resources>
    <wpfx:BusyIndicator IsBusy="{Binding IsBusy, UpdateSourceTrigger=PropertyChanged}">
        <wpfx:BusyIndicator.BusyContent>
            <BusyContent:UcBusyIndicatorContent/>
        </wpfx:BusyIndicator.BusyContent>
        <DockPanel>
            <StackPanel DockPanel.Dock="Right">
                <Label Content="Színezd ki a feladatnak megfelelően:" Margin="4,4,4,0"/>
                <wpfx:ColorPicker Margin="8,8,8,8" AvailableColorsHeader="Alap színek"
                                  
                                              StandardColors="{Binding Path=PuzzleColors}"
                                              ShowTabHeaders="False" ShowAvailableColors="False"
                                              SelectedColor="LightBlue"
                                              StandardColorsHeader="Elérhető színek:"
                                              AdvancedTabHeader="Egyéb színek" Style="{DynamicResource PuzzleColorPickerStyle}"/>
                <Button Content="Rajzol" Command="{Binding DrawJigsawSudokuCommand}"/>
                <Button Content="Megoldás" Command="{Binding SolveJigsawSudokuCommand}"/>
                <Button Content="Mentés..." Command="{Binding SaveJigsawSudokuCommand}"/>
                <Button Content="Betöltés..." Command="{Binding LoadJigsawSudokuCommand}"/>
                <Label Content="Megoldások: 1/200" HorizontalAlignment="Center" FontSize="24" Foreground="AntiqueWhite" Margin="8,8,8,8" Visibility="Hidden"/>
            </StackPanel>
            <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal" HorizontalAlignment="Center">
                <Button Width="50" Command="{Binding LoadPreviousSolutionCommand}">
                    <Image Width="45" Height="45" Source="../../Resources/Icons/LeftArrow.png"/>
                </Button>
                <Button Width="50" Command="{Binding LoadNextSolutionCommand}">
                    <Image Width="45" Height="45" Source="../../Resources/Icons/RightArrow.png"/>
                </Button>
            </StackPanel>
            <ContentControl Content="{Binding SudokuBoardControl, UpdateSourceTrigger=PropertyChanged}"/>
        </DockPanel>
    </wpfx:BusyIndicator>
</UserControl>